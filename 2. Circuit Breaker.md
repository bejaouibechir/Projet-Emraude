# Le Circuit Breaker

Oui, le **circuit breaker** peut être considéré comme un **design pattern**.

Voici pourquoi :

- Il s'agit d'un **modèle de conception logiciel** utilisé pour améliorer la **résilience** d'une application distribuée, comme un microservice.
- Son objectif principal est de **prévenir les appels répétés** à un service défaillant en interrompant les requêtes tant que le service n'est pas rétabli.
- Le circuit breaker se compose de trois états :
  - **Fermé (Closed)** : les appels passent normalement.
  - **Ouvert (Open)** : les appels sont bloqués, et une exception est renvoyée immédiatement.
  - **Semi-ouvert (Half-open)** : quelques appels passent pour tester si le service est à nouveau fonctionnel.

Ce pattern est très utile dans les architectures microservices pour **éviter la surcharge** de services externes défaillants et ainsi **stabiliser le système**.

``` mermaid

      stateDiagram
          [*] --> Closed: Circuit fermé
      
          Closed --> Open: Erreurs répétées (Seuil dépassé)
          Open --> HalfOpen: Temps d'attente (Timeout)
          HalfOpen --> Closed: Succès dans un appel
          HalfOpen --> Open: Échec dans un appel
      
          Open --> [*]: Échec final

```
